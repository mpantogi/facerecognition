{"ast":null,"code":"import e, { useState as t, useRef as n, useEffect as r, useLayoutEffect as i, useCallback as o } from \"react\";\n\nfunction a() {\n  return (a = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n\n      for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction u(u) {\n  var c = u.style,\n      d = void 0 === c ? {} : c,\n      l = u.className,\n      f = void 0 === l ? \"\" : l,\n      s = u.reverse,\n      v = void 0 !== s && s,\n      g = u.max,\n      m = void 0 === g ? 35 : g,\n      p = u.perspective,\n      w = void 0 === p ? 1e3 : p,\n      h = u.easing,\n      y = void 0 === h ? \"cubic-bezier(.03,.98,.52,.99)\" : h,\n      M = u.scale,\n      E = void 0 === M ? 1 : M,\n      x = u.speed,\n      b = void 0 === x ? 300 : x,\n      Y = u.axis,\n      A = void 0 === Y ? \"\" : Y,\n      X = u.reset,\n      F = void 0 === X || X,\n      L = u.glare,\n      C = void 0 !== L && L,\n      W = u.maxGlare,\n      N = void 0 === W ? 1 : W,\n      O = u.glareStyle,\n      T = void 0 === O ? {} : O,\n      q = u.gyroscope,\n      z = void 0 === q || q,\n      j = u.gyroscopeMinAngleX,\n      I = void 0 === j ? -45 : j,\n      P = u.gyroscopeMaxAngleX,\n      k = void 0 === P ? 45 : P,\n      B = u.gyroscopeMinAngleY,\n      G = void 0 === B ? -45 : B,\n      H = u.gyroscopeMaxAngleY,\n      R = void 0 === H ? 45 : H,\n      S = u.onMouseEnter,\n      D = void 0 === S ? function () {} : S,\n      J = u.onMouseMove,\n      K = void 0 === J ? function () {} : J,\n      Q = u.onMouseLeave,\n      U = void 0 === Q ? function () {} : Q,\n      V = u.onTiltChange,\n      Z = void 0 === V ? function () {} : V,\n      $ = u.children,\n      _ = t({\n    position: \"relative\",\n    willChange: \"transform\"\n  }),\n      ee = _[0],\n      te = _[1],\n      ne = t({\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    pointerEvents: \"none\",\n    backgroundImage: \"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)\",\n    transform: \"rotate(180deg) translate(-50%, -50%)\",\n    transformOrigin: \"0% 0%\",\n    opacity: \"0\"\n  }),\n      re = ne[0],\n      ie = ne[1],\n      oe = n(0),\n      ae = n(0),\n      ue = n(0),\n      ce = n(0),\n      de = n(null),\n      le = n(null),\n      fe = v ? 1 : -1,\n      se = n(null);\n\n  r(function () {\n    return function () {\n      clearTimeout(de.current), \"undefined\" != typeof window && window.cancelAnimationFrame(le.current);\n    };\n  }, []), r(function () {\n    if (!C || \"undefined\" == typeof window) return function () {};\n\n    var e = function () {\n      ie(function (e) {\n        return a({}, e, {\n          width: 2 * se.current.offsetWidth,\n          height: 2 * se.current.offsetWidth\n        });\n      });\n    };\n\n    return window.addEventListener(\"resize\", e), function () {\n      window.removeEventListener(\"resize\", e);\n    };\n  }, [C]), i(function () {\n    ie(function (e) {\n      return a({}, e, {\n        width: 2 * se.current.offsetWidth,\n        height: 2 * se.current.offsetWidth\n      });\n    });\n  }, []);\n\n  var ve = function () {\n    var e = se.current.getBoundingClientRect();\n    oe.current = se.current.offsetWidth, ae.current = se.current.offsetHeight, ue.current = e.left, ce.current = e.top;\n  },\n      ge = o(function (e) {\n    var t = (e.nativeEvent.clientX - ue.current) / oe.current,\n        n = (e.nativeEvent.clientY - ce.current) / ae.current;\n    return t = Math.min(Math.max(t, 0), 1), n = Math.min(Math.max(n, 0), 1), {\n      tiltX: (fe * (m / 2 - t * m)).toFixed(2),\n      tiltY: (fe * (n * m - m / 2)).toFixed(2),\n      percentageX: 100 * t,\n      percentageY: 100 * n,\n      angle: Math.atan2(e.nativeEvent.clientX - (ue.current + oe.current / 2), -(e.nativeEvent.clientY - (ce.current + ae.current / 2))) * (180 / Math.PI)\n    };\n  }, [m, fe]),\n      me = o(function (e) {\n    var t = ge(e);\n    te(function (e) {\n      return a({}, e, {\n        transform: \"perspective(\" + w + \"px) rotateX(\" + (\"x\" === A.toLowerCase() ? 0 : t.tiltY) + \"deg) rotateY(\" + (\"y\" === A.toLowerCase() ? 0 : t.tiltX) + \"deg) scale3d(\" + E + \", \" + E + \", \" + E + \")\"\n      });\n    }), C && ie(function (e) {\n      return a({}, e, {\n        transform: \"rotate(\" + t.angle + \"deg) translate(-50%, -50%)\",\n        opacity: t.percentageY * N / 100\n      });\n    }), se.current.dispatchEvent(new CustomEvent(\"tiltChange\", {\n      detail: t\n    })), Z({\n      detail: t\n    }), le.current = null;\n  }, [A, ge, C, N, w, E, Z]),\n      pe = function () {\n    clearTimeout(de.current), te(function (e) {\n      return a({}, e, {\n        transition: b + \"ms \" + y\n      });\n    }), de.current = setTimeout(function () {\n      te(function (e) {\n        return a({}, e, {\n          transition: \"\"\n        });\n      });\n    }, b);\n  };\n\n  return r(function () {\n    if (!z) return function () {};\n\n    var e = function (e) {\n      if (null !== e.gamma && null !== e.beta && \"undefined\" != typeof window) {\n        ve();\n        var t = (e.gamma - I) / ((k - I) / oe.current),\n            n = (e.beta - G) / ((R - G) / ae.current);\n        null !== le.current && \"undefined\" != typeof window && window.cancelAnimationFrame(le.current), e.nativeEvent = {\n          clientX: t + ue.current,\n          clientY: n + ce.current\n        }, le.current = requestAnimationFrame(function () {\n          return me(e);\n        });\n      }\n    };\n\n    return window.addEventListener(\"deviceorientation\", e), function () {\n      window.removeEventListener(\"deviceorientation\", e);\n    };\n  }, [z, k, R, I, G, me]), e.createElement(\"div\", {\n    ref: se,\n    style: a({}, d, ee),\n    className: f,\n    onMouseEnter: function (e) {\n      return ve(), pe(), D(e);\n    },\n    onMouseMove: function (e) {\n      return e.persist(), null !== le.current && \"undefined\" != typeof window && window.cancelAnimationFrame(le.current), le.current = requestAnimationFrame(function () {\n        return me(e);\n      }), K(e);\n    },\n    onMouseLeave: function (e) {\n      return pe(), F && \"undefined\" != typeof window && window.requestAnimationFrame(function () {\n        te(function (e) {\n          return a({}, e, {\n            transform: \"perspective(\" + w + \"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)\"\n          });\n        }), C && ie(function (e) {\n          return a({}, e, {\n            transform: \"rotate(180deg) translate(-50%, -50%)\",\n            opacity: 0\n          });\n        });\n      }), U(e);\n    }\n  }, C && e.createElement(\"div\", {\n    className: \"tilty-glare-wrapper\",\n    style: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\"\n    }\n  }, e.createElement(\"div\", {\n    className: \"tilty-glare\",\n    style: a({}, T, re)\n  })), $);\n}\n\nexport default u;","map":{"version":3,"sources":["../src/index.js"],"names":["Tilty","style","className","reverse","max","perspective","easing","scale","speed","axis","reset","glare","maxGlare","glareStyle","gyroscope","gyroscopeMinAngleX","gyroscopeMaxAngleX","gyroscopeMinAngleY","gyroscopeMaxAngleY","onMouseEnter","onMouseMove","onMouseLeave","onTiltChange","children","styleState","setStyle","useState","position","willChange","glareStyleState","setGlareStyle","top","left","pointerEvents","backgroundImage","transform","transformOrigin","opacity","width","useRef","height","transitionTimeout","updateCall","reverseNum","element","useEffect","clearTimeout","current","window","cancelAnimationFrame","updateGlareSize","prevGlareStyle","offsetWidth","addEventListener","removeEventListener","useLayoutEffect","updateElementPosition","rect","getBoundingClientRect","offsetHeight","getValues","useCallback","e","x","nativeEvent","clientX","y","clientY","Math","min","toFixed","atan2","PI","tiltX","tiltY","percentageX","percentageY","angle","update","values","prevStyle","toLowerCase","dispatchEvent","CustomEvent","detail","setTransition","transition","setTimeout","requestAnimationFrame","persist","onDeviceOrientation","gamma","beta","posX","posY","React","ref","overflow"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  useRef,\n  useEffect,\n  useLayoutEffect,\n  useCallback,\n} from 'react';\n\nfunction Tilty({\n  style = {},\n  className = '',\n  reverse = false,\n  max = 35,\n  perspective = 1000,\n  easing = 'cubic-bezier(.03,.98,.52,.99)',\n  scale = 1,\n  speed = 300,\n  axis = '',\n  reset = true,\n  glare = false,\n  maxGlare = 1,\n  glareStyle = {},\n  gyroscope = true,\n  gyroscopeMinAngleX = -45,\n  gyroscopeMaxAngleX = 45,\n  gyroscopeMinAngleY = -45,\n  gyroscopeMaxAngleY = 45,\n  onMouseEnter = () => {},\n  onMouseMove = () => {},\n  onMouseLeave = () => {},\n  onTiltChange = () => {},\n  children,\n}) {\n  // VARIABLES\n  const [styleState, setStyle] = useState({\n    position: 'relative',\n    willChange: 'transform',\n  });\n  const [glareStyleState, setGlareStyle] = useState({\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    pointerEvents: 'none',\n    backgroundImage: `linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)`,\n    transform: 'rotate(180deg) translate(-50%, -50%)',\n    transformOrigin: '0% 0%',\n    opacity: '0',\n  });\n\n  const width = useRef(0);\n  const height = useRef(0);\n  const left = useRef(0);\n  const top = useRef(0);\n  const transitionTimeout = useRef(null);\n  const updateCall = useRef(null);\n  const reverseNum = reverse ? 1 : -1;\n\n  const element = useRef(null);\n\n  // UNMOUNT\n  useEffect(() => {\n    return () => {\n      clearTimeout(transitionTimeout.current);\n      if (typeof window !== 'undefined') {\n        window.cancelAnimationFrame(updateCall.current);\n      }\n    };\n  }, []);\n\n  // GLARE\n  useEffect(() => {\n    if (!glare || typeof window === 'undefined') {\n      return () => {};\n    }\n\n    const updateGlareSize = () => {\n      setGlareStyle((prevGlareStyle) => ({\n        ...prevGlareStyle,\n        width: element.current.offsetWidth * 2,\n        height: element.current.offsetWidth * 2,\n      }));\n    };\n\n    window.addEventListener('resize', updateGlareSize);\n\n    return () => {\n      window.removeEventListener('resize', updateGlareSize);\n    };\n  }, [glare]);\n\n  useLayoutEffect(() => {\n    setGlareStyle((prevGlareStyle) => ({\n      ...prevGlareStyle,\n      width: element.current.offsetWidth * 2,\n      height: element.current.offsetWidth * 2,\n    }));\n  }, []);\n\n  // TILT FUNCTIONS\n  const updateElementPosition = () => {\n    const rect = element.current.getBoundingClientRect();\n    width.current = element.current.offsetWidth;\n    height.current = element.current.offsetHeight;\n    left.current = rect.left;\n    top.current = rect.top;\n  };\n\n  const getValues = useCallback(\n    (e) => {\n      let x = (e.nativeEvent.clientX - left.current) / width.current;\n      let y = (e.nativeEvent.clientY - top.current) / height.current;\n\n      x = Math.min(Math.max(x, 0), 1);\n      y = Math.min(Math.max(y, 0), 1);\n\n      const tiltX = (reverseNum * (max / 2 - x * max)).toFixed(2);\n      const tiltY = (reverseNum * (y * max - max / 2)).toFixed(2);\n\n      const angle =\n        Math.atan2(\n          e.nativeEvent.clientX - (left.current + width.current / 2),\n          -(e.nativeEvent.clientY - (top.current + height.current / 2))\n        ) *\n        (180 / Math.PI);\n\n      const percentageX = x * 100;\n      const percentageY = y * 100;\n\n      return {\n        tiltX,\n        tiltY,\n        percentageX,\n        percentageY,\n        angle,\n      };\n    },\n    [max, reverseNum]\n  );\n\n  const update = useCallback(\n    (e) => {\n      const values = getValues(e);\n\n      setStyle((prevStyle) => ({\n        ...prevStyle,\n        transform: `perspective(${perspective}px) rotateX(${\n          axis.toLowerCase() === 'x' ? 0 : values.tiltY\n        }deg) rotateY(${\n          axis.toLowerCase() === 'y' ? 0 : values.tiltX\n        }deg) scale3d(${scale}, ${scale}, ${scale})`,\n      }));\n\n      if (glare) {\n        setGlareStyle((prevGlareStyle) => ({\n          ...prevGlareStyle,\n          transform: `rotate(${values.angle}deg) translate(-50%, -50%)`,\n          opacity: (values.percentageY * maxGlare) / 100,\n        }));\n      }\n\n      // fire tiltChange event and callback\n      element.current.dispatchEvent(\n        new CustomEvent('tiltChange', {\n          detail: values,\n        })\n      );\n\n      onTiltChange({ detail: values });\n\n      updateCall.current = null;\n    },\n    [axis, getValues, glare, maxGlare, perspective, scale, onTiltChange]\n  );\n\n  const setTransition = () => {\n    clearTimeout(transitionTimeout.current);\n\n    setStyle((prevStyle) => ({\n      ...prevStyle,\n      transition: `${speed}ms ${easing}`,\n    }));\n\n    transitionTimeout.current = setTimeout(() => {\n      setStyle((prevStyle) => ({\n        ...prevStyle,\n        transition: '',\n      }));\n    }, speed);\n  };\n\n  const handleReset = () => {\n    if (typeof window !== 'undefined') {\n      window.requestAnimationFrame(() => {\n        setStyle((prevStyle) => ({\n          ...prevStyle,\n          transform: `perspective(${perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`,\n        }));\n\n        if (glare) {\n          setGlareStyle((prevGlareStyle) => ({\n            ...prevGlareStyle,\n            transform: 'rotate(180deg) translate(-50%, -50%)',\n            opacity: 0,\n          }));\n        }\n      });\n    }\n  };\n\n  // MOUSE EVENTS\n  const handleMouseEnter = (e) => {\n    updateElementPosition();\n    setTransition();\n    return onMouseEnter(e);\n  };\n\n  const handleMouseMove = (e) => {\n    e.persist();\n    if (updateCall.current !== null && typeof window !== 'undefined') {\n      window.cancelAnimationFrame(updateCall.current);\n    }\n    updateCall.current = requestAnimationFrame(() => update(e));\n    return onMouseMove(e);\n  };\n\n  const handleMouseLeave = (e) => {\n    setTransition();\n\n    if (reset) {\n      handleReset();\n    }\n\n    return onMouseLeave(e);\n  };\n\n  // DEVICE GYROSCOPE TILTING\n  useEffect(() => {\n    if (!gyroscope) {\n      return () => {};\n    }\n\n    const onDeviceOrientation = (e) => {\n      if (\n        e.gamma === null ||\n        e.beta === null ||\n        typeof window === 'undefined'\n      ) {\n        return;\n      }\n\n      updateElementPosition();\n\n      const totalAngleX = gyroscopeMaxAngleX - gyroscopeMinAngleX;\n      const totalAngleY = gyroscopeMaxAngleY - gyroscopeMinAngleY;\n\n      const degreesPerPixelX = totalAngleX / width.current;\n      const degreesPerPixelY = totalAngleY / height.current;\n\n      const angleX = e.gamma - gyroscopeMinAngleX;\n      const angleY = e.beta - gyroscopeMinAngleY;\n\n      const posX = angleX / degreesPerPixelX;\n      const posY = angleY / degreesPerPixelY;\n\n      if (updateCall.current !== null && typeof window !== 'undefined') {\n        window.cancelAnimationFrame(updateCall.current);\n      }\n\n      e.nativeEvent = {\n        clientX: posX + left.current,\n        clientY: posY + top.current,\n      };\n\n      updateCall.current = requestAnimationFrame(() => update(e));\n    };\n\n    window.addEventListener('deviceorientation', onDeviceOrientation);\n\n    return () => {\n      window.removeEventListener('deviceorientation', onDeviceOrientation);\n    };\n  }, [\n    gyroscope,\n    gyroscopeMaxAngleX,\n    gyroscopeMaxAngleY,\n    gyroscopeMinAngleX,\n    gyroscopeMinAngleY,\n    update,\n  ]);\n\n  return (\n    <div\n      ref={element}\n      style={{\n        ...style,\n        ...styleState,\n      }}\n      className={className}\n      onMouseEnter={handleMouseEnter}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n    >\n      {glare && (\n        <div\n          className=\"tilty-glare-wrapper\"\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            overflow: 'hidden',\n          }}\n        >\n          <div\n            className=\"tilty-glare\"\n            style={{\n              ...glareStyle,\n              ...glareStyleState,\n            }}\n          />\n        </div>\n      )}\n      {children}\n    </div>\n  );\n}\n\nexport default Tilty;\n"]},"metadata":{},"sourceType":"module"}